2025-11-14 19:35:39 [background-preinit] DEBUG [logging] - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
2025-11-14 19:35:39 [main] INFO  [SecurityApplication] - Starting SecurityApplication using Java 17.0.16 with PID 9640 (D:\project IntelliJ Ultimate\modules-parent\security\target\classes started by tranhuy in D:\project IntelliJ Ultimate\modules-parent\security)
2025-11-14 19:35:39 [main] DEBUG [SecurityApplication] - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-11-14 19:35:39 [main] INFO  [SecurityApplication] - No active profile set, falling back to 1 default profile: "default"
2025-11-14 19:35:44 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:35:44 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:35:44 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:35:44 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:35:44 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:35:44 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:35:44 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:35:44 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:35:44 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:35:44 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:35:44 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:35:44 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:35:52 [main] DEBUG [InternalLoggerFactory] - Using SLF4J as the default logging framework
2025-11-14 19:35:53 [main] ERROR [TomcatStarter] - Error starting Tomcat context. Exception: org.springframework.beans.factory.BeanCreationException. Message: Error creating bean with name 'jwtAuthFilter': Lookup method resolution failed
2025-11-14 19:35:53 [main] WARN  [AnnotationConfigServletWebServerApplicationContext] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-11-14 19:35:53 [main] ERROR [SpringApplication] - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.security.SecurityApplication.main(SecurityApplication.java:18)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jwtAuthFilter': Lookup method resolution failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.checkLookupMethods(AutowiredAnnotationBeanPostProcessor.java:498)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:368)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1334)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1229)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:230)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:184)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:179)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:164)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:96)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	... 13 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.security.config.JwtAuthFilter] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@60e53b93]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)
	at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.checkLookupMethods(AutowiredAnnotationBeanPostProcessor.java:476)
	... 54 common frames omitted
Caused by: java.lang.NoClassDefFoundError: com/handle_exceptions/UnauthorizedExceptionHandle
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3402)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2504)
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)
	... 56 common frames omitted
Caused by: java.lang.ClassNotFoundException: com.handle_exceptions.UnauthorizedExceptionHandle
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)
	... 60 common frames omitted
2025-11-14 19:36:25 [background-preinit] DEBUG [logging] - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
2025-11-14 19:36:25 [main] INFO  [SecurityApplication] - Starting SecurityApplication using Java 17.0.16 with PID 4800 (D:\project IntelliJ Ultimate\modules-parent\security\target\classes started by tranhuy in D:\project IntelliJ Ultimate\modules-parent\security)
2025-11-14 19:36:25 [main] DEBUG [SecurityApplication] - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-11-14 19:36:25 [main] INFO  [SecurityApplication] - No active profile set, falling back to 1 default profile: "default"
2025-11-14 19:36:28 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:36:28 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:36:28 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:36:28 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:36:28 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:36:28 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:36:28 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:36:28 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:36:28 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:36:28 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:36:28 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:36:28 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:36:31 [main] DEBUG [InternalLoggerFactory] - Using SLF4J as the default logging framework
2025-11-14 19:36:33 [main] WARN  [deprecation] - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-14 19:36:37 [main] WARN  [JpaBaseConfiguration$JpaWebConfiguration] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-14 19:36:38 [main] DEBUG [JwtAuthFilter] - Filter 'jwtAuthFilter' configured for use
2025-11-14 19:36:38 [main] WARN  [InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer] - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-14 19:36:39 [main] DEBUG [Mappings] - 
	c.s.c.AuthController:
	{POST [/auth/register]}: register(Register,String)
	{POST [/auth/logout]}: logout(String,String)
	{POST [/auth/login]}: login(Login,String)
	{GET [/auth/decode]}: decodeToken(String,String)
	{POST [/auth/internal/users/batch]}: getUsersByIds(Map)
	{POST [/auth/refresh]}: refreshToken(String,String)
	{GET [/auth/validate]}: validateToken(String,String)
	{PATCH [/auth/internal/users/disable]}: disableUsers(List,String)
	{POST [/auth/internal/users/update]}: updateUser(UpdateUserDto)
	{DELETE [/auth/internal/users/delete]}: deleteUser(List)
	{GET [/auth/check-status]}: checkAccountStatus(String,String)
	{PATCH [/auth/internal/users/enable]}: enableUsers(List,String)
2025-11-14 19:36:39 [main] DEBUG [Mappings] - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-11-14 19:36:39 [main] DEBUG [Mappings] - 'beanNameHandlerMapping' {}
2025-11-14 19:36:39 [main] DEBUG [Mappings] - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]}
2025-11-14 19:36:41 [main] DEBUG [Loggers] - Using Slf4j logging framework
2025-11-14 19:36:42 [main] INFO  [SecurityApplication] - Started SecurityApplication in 17.576 seconds (process running for 18.244)
2025-11-14 19:36:56 [http-nio-8083-exec-2] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/login
2025-11-14 19:36:56 [http-nio-8083-exec-2] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/login
2025-11-14 19:36:56 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthController - Login API calling... by user: HuyS1
2025-11-14 19:36:56 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthService - Login attempt for username: HuyS1
2025-11-14 19:36:56 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthController - User logged in successfully: HuyS1
2025-11-14 19:38:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 19:38:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-11-14 19:38:35 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-11-14 19:38:35 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-11-14 19:40:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 19:40:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-11-14 19:42:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 19:42:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-11-14 19:44:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 19:44:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-11-14 19:50:47 [background-preinit] DEBUG [logging] - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
2025-11-14 19:50:47 [main] INFO  [SecurityApplication] - Starting SecurityApplication using Java 17.0.16 with PID 14164 (D:\project IntelliJ Ultimate\modules-parent\security\target\classes started by tranhuy in D:\project IntelliJ Ultimate\modules-parent\security)
2025-11-14 19:50:47 [main] DEBUG [SecurityApplication] - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-11-14 19:50:47 [main] INFO  [SecurityApplication] - No active profile set, falling back to 1 default profile: "default"
2025-11-14 19:50:49 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:50:49 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:50:49 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:50:49 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:50:49 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:50:49 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:50:49 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:50:49 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:50:49 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:50:49 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:50:49 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 19:50:49 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 19:50:54 [main] DEBUG [InternalLoggerFactory] - Using SLF4J as the default logging framework
2025-11-14 19:50:57 [main] WARN  [deprecation] - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-14 19:51:04 [main] WARN  [JpaBaseConfiguration$JpaWebConfiguration] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-14 19:51:05 [main] DEBUG [JwtAuthFilter] - Filter 'jwtAuthFilter' configured for use
2025-11-14 19:51:05 [main] WARN  [InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer] - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-14 19:51:06 [main] DEBUG [Mappings] - 
	c.s.c.AuthController:
	{POST [/auth/register]}: register(Register,String)
	{POST [/auth/logout]}: logout(String,String)
	{POST [/auth/login]}: login(Login,String)
	{POST [/auth/refresh]}: refreshToken(String,String)
	{GET [/auth/validate]}: validateToken(String,String)
	{POST [/auth/internal/users/batch]}: getUsersByIds(Map)
	{GET [/auth/decode]}: decodeToken(String,String)
	{DELETE [/auth/internal/users/delete]}: deleteUser(List)
	{PATCH [/auth/internal/users/disable]}: disableUsers(List,String)
	{POST [/auth/internal/users/update]}: updateUser(UpdateUserDto)
	{PATCH [/auth/internal/users/enable]}: enableUsers(List,String)
	{GET [/auth/check-status]}: checkAccountStatus(String,String)
2025-11-14 19:51:06 [main] DEBUG [Mappings] - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-11-14 19:51:06 [main] DEBUG [Mappings] - 'beanNameHandlerMapping' {}
2025-11-14 19:51:07 [main] DEBUG [Mappings] - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]}
2025-11-14 19:51:11 [main] DEBUG [Loggers] - Using Slf4j logging framework
2025-11-14 19:51:14 [main] INFO  [SecurityApplication] - Started SecurityApplication in 27.897 seconds (process running for 29.512)
2025-11-14 19:52:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 19:52:01 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-11-14 19:52:45 [http-nio-8083-exec-4] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-11-14 19:52:45 [http-nio-8083-exec-4] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-11-14 19:54:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 19:54:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-11-14 19:56:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 19:56:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-11-14 20:30:28 [background-preinit] DEBUG [logging] - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
2025-11-14 20:30:28 [main] INFO  [SecurityApplication] - Starting SecurityApplication using Java 17.0.16 with PID 10988 (D:\project IntelliJ Ultimate\modules-parent\security\target\classes started by tranhuy in D:\project IntelliJ Ultimate\modules-parent\security)
2025-11-14 20:30:28 [main] DEBUG [SecurityApplication] - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-11-14 20:30:28 [main] INFO  [SecurityApplication] - No active profile set, falling back to 1 default profile: "default"
2025-11-14 20:30:33 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 20:30:33 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 20:30:33 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 20:30:33 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 20:30:33 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 20:30:33 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 20:30:33 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 20:30:33 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 20:30:34 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 20:30:34 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 20:30:34 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 20:30:34 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 20:30:43 [main] DEBUG [InternalLoggerFactory] - Using SLF4J as the default logging framework
2025-11-14 20:30:49 [main] WARN  [deprecation] - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-14 20:31:08 [main] WARN  [JpaBaseConfiguration$JpaWebConfiguration] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-14 20:31:09 [main] DEBUG [JwtAuthFilter] - Filter 'jwtAuthFilter' configured for use
2025-11-14 20:31:11 [main] WARN  [InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer] - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-14 20:31:14 [main] DEBUG [Mappings] - 
	c.s.c.AuthController:
	{POST [/auth/register]}: register(Register,String)
	{POST [/auth/logout]}: logout(String,String)
	{GET [/auth/decode]}: decodeToken(String,String)
	{POST [/auth/internal/users/update]}: updateUser(UpdateUserDto)
	{POST [/auth/internal/users/batch]}: getUsersByIds(Map)
	{GET [/auth/validate]}: validateToken(String,String)
	{GET [/auth/check-status]}: checkAccountStatus(String,String)
	{DELETE [/auth/internal/users/delete]}: deleteUser(List)
	{PATCH [/auth/internal/users/disable]}: disableUsers(List,String)
	{PATCH [/auth/internal/users/enable]}: enableUsers(List,String)
	{POST [/auth/refresh]}: refreshToken(String,String)
	{POST [/auth/login]}: login(Login,String)
2025-11-14 20:31:14 [main] DEBUG [Mappings] - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-11-14 20:31:14 [main] DEBUG [Mappings] - 'beanNameHandlerMapping' {}
2025-11-14 20:31:15 [main] DEBUG [Mappings] - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]}
2025-11-14 20:31:23 [main] DEBUG [Loggers] - Using Slf4j logging framework
2025-11-14 20:31:28 [main] INFO  [SecurityApplication] - Started SecurityApplication in 60.822 seconds (process running for 62.679)
2025-11-14 20:31:53 [background-preinit] DEBUG [logging] - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
2025-11-14 20:31:53 [main] INFO  [SecurityApplication] - Starting SecurityApplication using Java 17.0.16 with PID 6720 (D:\project IntelliJ Ultimate\modules-parent\security\target\classes started by tranhuy in D:\project IntelliJ Ultimate\modules-parent\security)
2025-11-14 20:31:53 [main] DEBUG [SecurityApplication] - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-11-14 20:31:53 [main] INFO  [SecurityApplication] - No active profile set, falling back to 1 default profile: "default"
2025-11-14 20:31:55 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 20:31:56 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 20:31:56 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 20:31:56 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 20:31:56 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 20:31:56 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 20:31:56 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 20:31:56 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 20:31:56 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 20:31:56 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 20:31:56 [main] DEBUG [RxJava2OnClasspathCondition] - RxJava2 related Aspect extensions are not activated, because RxJava2 is not on the classpath.
2025-11-14 20:31:56 [main] DEBUG [ReactorOnClasspathCondition] - Reactor related Aspect extensions are not activated because Resilience4j Reactor module is not on the classpath.
2025-11-14 20:32:00 [main] DEBUG [InternalLoggerFactory] - Using SLF4J as the default logging framework
2025-11-14 20:32:02 [main] WARN  [deprecation] - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-14 20:32:07 [main] WARN  [JpaBaseConfiguration$JpaWebConfiguration] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-14 20:32:08 [main] DEBUG [JwtAuthFilter] - Filter 'jwtAuthFilter' configured for use
2025-11-14 20:32:08 [main] WARN  [InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer] - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-11-14 20:32:09 [main] DEBUG [Mappings] - 
	c.s.c.AuthController:
	{POST [/auth/register]}: register(Register,String)
	{POST [/auth/logout]}: logout(String,String)
	{POST [/auth/refresh]}: refreshToken(String,String)
	{POST [/auth/login]}: login(Login,String)
	{GET [/auth/validate]}: validateToken(String,String)
	{GET [/auth/decode]}: decodeToken(String,String)
	{POST [/auth/internal/users/update]}: updateUser(UpdateUserDto)
	{POST [/auth/internal/users/batch]}: getUsersByIds(Map)
	{GET [/auth/check-status]}: checkAccountStatus(String,String)
	{PATCH [/auth/internal/users/enable]}: enableUsers(List,String)
	{DELETE [/auth/internal/users/delete]}: deleteUser(List)
	{PATCH [/auth/internal/users/disable]}: disableUsers(List,String)
2025-11-14 20:32:09 [main] DEBUG [Mappings] - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-11-14 20:32:09 [main] DEBUG [Mappings] - 'beanNameHandlerMapping' {}
2025-11-14 20:32:09 [main] DEBUG [Mappings] - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]}
2025-11-14 20:32:11 [main] DEBUG [Loggers] - Using Slf4j logging framework
2025-11-14 20:32:14 [main] INFO  [SecurityApplication] - Started SecurityApplication in 21.81 seconds (process running for 23.181)
2025-11-14 20:32:25 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-11-14 20:32:26 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-11-14 20:32:29 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyT1
2025-11-14 20:32:33 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyT1
2025-11-14 20:32:38 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthService - Username exists with FAILED status, allowing re-registration by reusing userId: 6
2025-11-14 20:32:39 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthService - Reusing existing userId: 6 for re-registration
2025-11-14 20:32:40 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [6]
2025-11-14 20:32:40 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 48, key: [6]
2025-11-14 20:32:41 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthController - User registered successfully: HuyT1
2025-11-14 20:33:54 [http-nio-8083-exec-9] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/check-status
2025-11-14 20:33:54 [http-nio-8083-exec-9] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyT1
2025-11-14 20:33:54 [http-nio-8083-exec-9] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyT1
2025-11-14 20:33:54 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthController - checkAccountStatus API Calling...
2025-11-14 20:33:54 [LoginEvent-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [6]
2025-11-14 20:33:54 [LoginEvent-1] INFO  [LoggingServiceImp] - [security] AsyncService - Login event sent successfully for user: HuyT1
2025-11-14 20:33:54 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 49, key: [6]
2025-11-14 20:33:54 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthController - Account status checked for user: HuyT1
2025-11-14 20:34:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 20:34:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Found 1 PENDING users to check
2025-11-14 20:34:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - All PENDING users are within timeout threshold
2025-11-14 20:35:00 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/check-status
2025-11-14 20:35:00 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyT1
2025-11-14 20:35:00 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyT1
2025-11-14 20:35:00 [LoginEvent-2] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [6]
2025-11-14 20:35:00 [http-nio-8083-exec-7] INFO  [LoggingServiceImp] - [security] AuthController - checkAccountStatus API Calling...
2025-11-14 20:35:00 [LoginEvent-2] INFO  [LoggingServiceImp] - [security] AsyncService - Login event sent successfully for user: HuyT1
2025-11-14 20:35:00 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 50, key: [6]
2025-11-14 20:35:00 [http-nio-8083-exec-7] INFO  [LoggingServiceImp] - [security] AuthController - Account status checked for user: HuyT1
2025-11-14 20:36:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 20:36:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Found 1 PENDING users to check
2025-11-14 20:36:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - All PENDING users are within timeout threshold
2025-11-14 20:36:01 [http-nio-8083-exec-10] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/check-status
2025-11-14 20:36:01 [http-nio-8083-exec-10] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyT1
2025-11-14 20:36:01 [http-nio-8083-exec-10] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyT1
2025-11-14 20:36:01 [LoginEvent-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [6]
2025-11-14 20:36:01 [LoginEvent-1] INFO  [LoggingServiceImp] - [security] AsyncService - Login event sent successfully for user: HuyT1
2025-11-14 20:36:01 [http-nio-8083-exec-10] INFO  [LoggingServiceImp] - [security] AuthController - checkAccountStatus API Calling...
2025-11-14 20:36:01 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 51, key: [6]
2025-11-14 20:36:01 [http-nio-8083-exec-10] INFO  [LoggingServiceImp] - [security] AuthController - Account status checked for user: HuyT1
2025-11-14 20:36:18 [http-nio-8083-exec-2] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/internal/users/disable
2025-11-14 20:36:18 [http-nio-8083-exec-2] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/internal/users/disable
2025-11-14 20:36:18 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthController - Disabled user with id: 6
2025-11-14 20:36:29 [http-nio-8083-exec-1] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-11-14 20:36:29 [http-nio-8083-exec-1] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-11-14 20:36:31 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyT1
2025-11-14 20:36:33 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyT1
2025-11-14 20:36:33 [http-nio-8083-exec-1] DEBUG [LoggingServiceImp] - [security] AuthService - Username already exists with active status
2025-11-14 20:37:10 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-11-14 20:37:10 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-11-14 20:37:12 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyT1
2025-11-14 20:37:19 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyT1
2025-11-14 20:37:52 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] AuthService - Username already exists with active status
2025-11-14 20:38:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 20:38:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-11-14 20:39:40 [http-nio-8083-exec-9] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-11-14 20:39:40 [http-nio-8083-exec-9] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-11-14 20:39:41 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyT1
2025-11-14 20:39:43 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyT1
2025-11-14 20:39:57 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthService - Username exists with FAILED status, allowing re-registration by reusing userId: 6
2025-11-14 20:40:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 20:40:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-11-14 20:40:05 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthService - Reusing existing userId: 6 for re-registration
2025-11-14 20:40:07 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 52, key: [6]
2025-11-14 20:40:07 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [6]
2025-11-14 20:40:10 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthController - User registered successfully: HuyT1
2025-11-14 20:40:47 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user create profile with user id: 6
2025-11-14 20:41:18 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/check-status
2025-11-14 20:41:18 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyT1
2025-11-14 20:41:18 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyT1
2025-11-14 20:41:18 [LoginEvent-2] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [6]
2025-11-14 20:41:18 [LoginEvent-2] INFO  [LoggingServiceImp] - [security] AsyncService - Login event sent successfully for user: HuyT1
2025-11-14 20:41:18 [http-nio-8083-exec-7] INFO  [LoggingServiceImp] - [security] AuthController - checkAccountStatus API Calling...
2025-11-14 20:41:18 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 53, key: [6]
2025-11-14 20:41:18 [http-nio-8083-exec-7] INFO  [LoggingServiceImp] - [security] AuthController - Account status checked for user: HuyT1
2025-11-14 20:41:50 [http-nio-8083-exec-10] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/validate
2025-11-14 20:41:50 [http-nio-8083-exec-10] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyT1
2025-11-14 20:41:51 [http-nio-8083-exec-10] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyT1
2025-11-14 20:41:51 [LoginEvent-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [6]
2025-11-14 20:41:51 [LoginEvent-1] INFO  [LoggingServiceImp] - [security] AsyncService - Login event sent successfully for user: HuyT1
2025-11-14 20:41:51 [http-nio-8083-exec-10] INFO  [LoggingServiceImp] - [security] AuthController - validate API Calling...
2025-11-14 20:41:51 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 54, key: [6]
2025-11-14 20:41:51 [http-nio-8083-exec-10] INFO  [LoggingServiceImp] - [security] AuthController - Token validated successfully for user: HuyT1
2025-11-14 20:42:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 20:42:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-11-14 20:42:59 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/internal/users/batch
2025-11-14 20:43:00 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/internal/users/batch
2025-11-14 20:43:01 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthController - Batch getting users, count: 1
2025-11-14 20:43:01 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthController - Successfully retrieved 1 users
2025-11-14 20:44:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 20:44:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-11-14 20:45:04 [http-nio-8083-exec-9] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-11-14 20:45:04 [http-nio-8083-exec-9] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-11-14 20:45:05 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyT2
2025-11-14 20:45:06 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyT2
2025-11-14 20:45:06 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [7]
2025-11-14 20:45:06 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 55, key: [7]
2025-11-14 20:45:06 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthController - User registered successfully: HuyT2
2025-11-14 20:45:08 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user create profile with user id: 7
2025-11-14 20:45:21 [http-nio-8083-exec-3] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/validate
2025-11-14 20:45:21 [http-nio-8083-exec-3] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyT1
2025-11-14 20:45:21 [http-nio-8083-exec-3] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyT1
2025-11-14 20:45:21 [LoginEvent-2] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [6]
2025-11-14 20:45:21 [LoginEvent-2] INFO  [LoggingServiceImp] - [security] AsyncService - Login event sent successfully for user: HuyT1
2025-11-14 20:45:21 [http-nio-8083-exec-3] INFO  [LoggingServiceImp] - [security] AuthController - validate API Calling...
2025-11-14 20:45:21 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 56, key: [6]
2025-11-14 20:45:21 [http-nio-8083-exec-3] INFO  [LoggingServiceImp] - [security] AuthController - Token validated successfully for user: HuyT1
2025-11-14 20:45:39 [http-nio-8083-exec-6] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/internal/users/batch
2025-11-14 20:45:39 [http-nio-8083-exec-6] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/internal/users/batch
2025-11-14 20:45:39 [http-nio-8083-exec-6] INFO  [LoggingServiceImp] - [security] AuthController - Batch getting users, count: 2
2025-11-14 20:45:39 [http-nio-8083-exec-6] INFO  [LoggingServiceImp] - [security] AuthController - Successfully retrieved 2 users
2025-11-14 20:45:52 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/validate
2025-11-14 20:45:52 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyT1
2025-11-14 20:45:52 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyT1
2025-11-14 20:45:52 [LoginEvent-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [6]
2025-11-14 20:45:52 [http-nio-8083-exec-7] INFO  [LoggingServiceImp] - [security] AuthController - validate API Calling...
2025-11-14 20:45:52 [LoginEvent-1] INFO  [LoggingServiceImp] - [security] AsyncService - Login event sent successfully for user: HuyT1
2025-11-14 20:45:52 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 57, key: [6]
2025-11-14 20:45:52 [http-nio-8083-exec-7] INFO  [LoggingServiceImp] - [security] AuthController - Token validated successfully for user: HuyT1
2025-11-14 20:46:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 20:46:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-11-14 20:48:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 20:48:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-11-14 20:49:52 [http-nio-8083-exec-1] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/validate
2025-11-14 20:49:52 [http-nio-8083-exec-1] ERROR [LoggingServiceImp] - [security] JwtAuthFilter - Error processing JWT token: JWT expired 5380690391 milliseconds ago at 2025-09-13T07:11:42.000Z. Current time: 2025-11-14T13:49:52.391Z. Allowed clock skew: 0 milliseconds.: JWT expired 5380690391 milliseconds ago at 2025-09-13T07:11:42.000Z. Current time: 2025-11-14T13:49:52.391Z. Allowed clock skew: 0 milliseconds.
2025-11-14 20:50:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 20:50:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-11-14 20:50:12 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/validate
2025-11-14 20:50:12 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyT1
2025-11-14 20:50:12 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyT1
2025-11-14 20:50:12 [LoginEvent-2] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [6]
2025-11-14 20:50:12 [LoginEvent-2] INFO  [LoggingServiceImp] - [security] AsyncService - Login event sent successfully for user: HuyT1
2025-11-14 20:50:12 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthController - validate API Calling...
2025-11-14 20:50:12 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 58, key: [6]
2025-11-14 20:50:12 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthController - Token validated successfully for user: HuyT1
2025-11-14 20:52:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 20:52:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-11-14 20:52:39 [http-nio-8083-exec-8] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/validate
2025-11-14 20:52:39 [http-nio-8083-exec-8] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyT1
2025-11-14 20:52:39 [http-nio-8083-exec-8] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyT1
2025-11-14 20:52:39 [LoginEvent-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [6]
2025-11-14 20:52:39 [http-nio-8083-exec-8] INFO  [LoggingServiceImp] - [security] AuthController - validate API Calling...
2025-11-14 20:52:39 [LoginEvent-1] INFO  [LoggingServiceImp] - [security] AsyncService - Login event sent successfully for user: HuyT1
2025-11-14 20:52:39 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 59, key: [6]
2025-11-14 20:52:39 [http-nio-8083-exec-8] INFO  [LoggingServiceImp] - [security] AuthController - Token validated successfully for user: HuyT1
2025-11-14 20:53:11 [http-nio-8083-exec-9] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/internal/users/update
2025-11-14 20:53:13 [http-nio-8083-exec-9] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/internal/users/update
2025-11-14 20:53:13 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthController - updateUser API Calling... for userId: 6
2025-11-14 20:53:13 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthController - Updated user profile for userId: 6
2025-11-14 20:53:56 [http-nio-8083-exec-3] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/validate
2025-11-14 20:53:56 [http-nio-8083-exec-3] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyT1
2025-11-14 20:53:56 [http-nio-8083-exec-3] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyT1
2025-11-14 20:53:56 [LoginEvent-2] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [6]
2025-11-14 20:53:56 [LoginEvent-2] INFO  [LoggingServiceImp] - [security] AsyncService - Login event sent successfully for user: HuyT1
2025-11-14 20:53:56 [http-nio-8083-exec-3] INFO  [LoggingServiceImp] - [security] AuthController - validate API Calling...
2025-11-14 20:53:56 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 60, key: [6]
2025-11-14 20:53:56 [http-nio-8083-exec-3] INFO  [LoggingServiceImp] - [security] AuthController - Token validated successfully for user: HuyT1
2025-11-14 20:54:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-11-14 20:54:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-11-14 20:54:06 [http-nio-8083-exec-6] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/internal/users/batch
2025-11-14 20:54:06 [http-nio-8083-exec-6] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/internal/users/batch
2025-11-14 20:54:06 [http-nio-8083-exec-6] INFO  [LoggingServiceImp] - [security] AuthController - Batch getting users, count: 2
2025-11-14 20:54:06 [http-nio-8083-exec-6] INFO  [LoggingServiceImp] - [security] AuthController - Successfully retrieved 2 users
