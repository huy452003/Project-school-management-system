2025-10-31 19:32:46 [background-preinit] DEBUG [logging] - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
2025-10-31 19:32:47 [main] INFO  [SecurityApplication] - Starting SecurityApplication using Java 17.0.16 with PID 8072 (D:\project IntelliJ Ultimate\modules-parent\security\target\classes started by tranhuy in D:\project IntelliJ Ultimate\modules-parent\security)
2025-10-31 19:32:47 [main] DEBUG [SecurityApplication] - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-10-31 19:32:47 [main] INFO  [SecurityApplication] - No active profile set, falling back to 1 default profile: "default"
2025-10-31 19:32:53 [main] DEBUG [InternalLoggerFactory] - Using SLF4J as the default logging framework
2025-10-31 19:32:58 [main] WARN  [deprecation] - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-31 19:33:04 [main] WARN  [JpaBaseConfiguration$JpaWebConfiguration] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-31 19:33:05 [main] DEBUG [JwtAuthFilter] - Filter 'jwtAuthFilter' configured for use
2025-10-31 19:33:05 [main] WARN  [InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer] - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-10-31 19:33:06 [main] DEBUG [Mappings] - 
	c.s.c.AuthController:
	{POST [/auth/register]}: register(Register,String)
	{POST [/auth/logout]}: logout(String,String)
	{GET [/auth/validate]}: validateToken(String,String)
	{POST [/auth/refresh]}: refreshToken(String,String)
	{POST [/auth/login]}: login(Login,String)
	{GET [/auth/decode]}: decodeToken(String,String)
	{GET [/auth/check-status]}: checkAccountStatus(String,String)
2025-10-31 19:33:06 [main] DEBUG [Mappings] - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-10-31 19:33:06 [main] DEBUG [Mappings] - 'beanNameHandlerMapping' {}
2025-10-31 19:33:06 [main] DEBUG [Mappings] - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]}
2025-10-31 19:33:07 [main] DEBUG [Loggers] - Using Slf4j logging framework
2025-10-31 19:33:09 [main] INFO  [SecurityApplication] - Started SecurityApplication in 23.413 seconds (process running for 24.03)
2025-10-31 19:34:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 19:34:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 19:34:42 [http-nio-8083-exec-2] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-10-31 19:34:42 [http-nio-8083-exec-2] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-10-31 19:34:43 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyS2
2025-10-31 19:34:43 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyS2
2025-10-31 19:34:43 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [2]
2025-10-31 19:34:43 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 1, key: [2]
2025-10-31 19:34:43 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthController - User registered successfully: HuyS2
2025-10-31 19:34:45 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user create profile with user id: 2
2025-10-31 19:35:04 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/check-status
2025-10-31 19:35:04 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyS2
2025-10-31 19:35:04 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyS2
2025-10-31 19:35:04 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthController - checkAccountStatus API Calling...
2025-10-31 19:35:04 [LoginEvent-1] ERROR [LoggingServiceImp] - [security] AsyncService - Failed to send login event for user: HuyS2: Cannot invoke "java.lang.Integer.toString()" because the return value of "com.model_shared.models.user.UserDto.getUserId()" is null
2025-10-31 19:35:04 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthController - Account status checked for user: HuyS2
2025-10-31 19:36:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 19:36:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 19:36:19 [http-nio-8083-exec-10] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-10-31 19:36:19 [http-nio-8083-exec-10] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-10-31 19:36:19 [http-nio-8083-exec-10] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyS1
2025-10-31 19:36:19 [http-nio-8083-exec-10] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyS1
2025-10-31 19:36:19 [http-nio-8083-exec-10] INFO  [LoggingServiceImp] - [security] AuthService - Username exists with FAILED status, allowing re-registration: HuyS1
2025-10-31 19:36:19 [http-nio-8083-exec-10] INFO  [LoggingServiceImp] - [security] AuthService - Deleted FAILED user to allow re-registration: HuyS1
2025-10-31 19:36:19 [http-nio-8083-exec-10] WARN  [SqlExceptionHelper] - SQL Error: 1062, SQLState: 23000
2025-10-31 19:36:19 [http-nio-8083-exec-10] ERROR [SqlExceptionHelper] - Duplicate entry 'HuyS1' for key 'users.UKk8d0f2n7n88w1a16yhua64onx'
2025-10-31 19:37:07 [http-nio-8083-exec-4] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-10-31 19:37:07 [http-nio-8083-exec-4] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-10-31 19:37:07 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyS1
2025-10-31 19:37:07 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyS1
2025-10-31 19:37:07 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [security] AuthService - Username exists with FAILED status, allowing re-registration: HuyS1
2025-10-31 19:37:07 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [security] AuthService - Deleted FAILED user to allow re-registration: HuyS1
2025-10-31 19:37:07 [http-nio-8083-exec-4] WARN  [SqlExceptionHelper] - SQL Error: 1062, SQLState: 23000
2025-10-31 19:37:07 [http-nio-8083-exec-4] ERROR [SqlExceptionHelper] - Duplicate entry 'HuyS1' for key 'users.UKk8d0f2n7n88w1a16yhua64onx'
2025-10-31 19:39:50 [background-preinit] DEBUG [logging] - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
2025-10-31 19:39:50 [main] INFO  [SecurityApplication] - Starting SecurityApplication using Java 17.0.16 with PID 11752 (D:\project IntelliJ Ultimate\modules-parent\security\target\classes started by tranhuy in D:\project IntelliJ Ultimate\modules-parent\security)
2025-10-31 19:39:50 [main] DEBUG [SecurityApplication] - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-10-31 19:39:50 [main] INFO  [SecurityApplication] - No active profile set, falling back to 1 default profile: "default"
2025-10-31 19:39:57 [main] DEBUG [InternalLoggerFactory] - Using SLF4J as the default logging framework
2025-10-31 19:40:00 [main] WARN  [deprecation] - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-31 19:40:06 [main] WARN  [JpaBaseConfiguration$JpaWebConfiguration] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-31 19:40:06 [main] DEBUG [JwtAuthFilter] - Filter 'jwtAuthFilter' configured for use
2025-10-31 19:40:06 [main] WARN  [InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer] - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-10-31 19:40:07 [main] DEBUG [Mappings] - 
	c.s.c.AuthController:
	{POST [/auth/register]}: register(Register,String)
	{POST [/auth/logout]}: logout(String,String)
	{POST [/auth/login]}: login(Login,String)
	{GET [/auth/decode]}: decodeToken(String,String)
	{GET [/auth/validate]}: validateToken(String,String)
	{POST [/auth/refresh]}: refreshToken(String,String)
	{GET [/auth/check-status]}: checkAccountStatus(String,String)
2025-10-31 19:40:07 [main] DEBUG [Mappings] - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-10-31 19:40:07 [main] DEBUG [Mappings] - 'beanNameHandlerMapping' {}
2025-10-31 19:40:07 [main] DEBUG [Mappings] - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]}
2025-10-31 19:40:08 [main] DEBUG [Loggers] - Using Slf4j logging framework
2025-10-31 19:40:10 [main] INFO  [SecurityApplication] - Started SecurityApplication in 21.463 seconds (process running for 22.2)
2025-10-31 19:40:18 [http-nio-8083-exec-2] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-10-31 19:40:18 [http-nio-8083-exec-2] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-10-31 19:40:18 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyS1
2025-10-31 19:40:18 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyS1
2025-10-31 19:40:18 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthService - Username exists with FAILED status, allowing re-registration: HuyS1
2025-10-31 19:40:18 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthService - Deleted FAILED user to allow re-registration: HuyS1
2025-10-31 19:40:19 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [5]
2025-10-31 19:40:19 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 2, key: [5]
2025-10-31 19:40:19 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] WARN  [LoggingServiceImp] - [security] ConsumerService - User not found in profile-events handler, userId: 5. User may have been deleted. Skipping.
2025-10-31 19:40:19 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthController - User registered successfully: HuyS1
2025-10-31 19:41:01 [http-nio-8083-exec-3] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/check-status
2025-10-31 19:41:02 [http-nio-8083-exec-3] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyS1
2025-10-31 19:41:02 [http-nio-8083-exec-3] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyS1
2025-10-31 19:41:02 [LoginEvent-1] ERROR [LoggingServiceImp] - [security] AsyncService - Failed to send login event for user: HuyS1: Cannot invoke "java.lang.Integer.toString()" because the return value of "com.model_shared.models.user.UserDto.getUserId()" is null
2025-10-31 19:41:02 [http-nio-8083-exec-3] INFO  [LoggingServiceImp] - [security] AuthController - checkAccountStatus API Calling...
2025-10-31 19:41:02 [http-nio-8083-exec-3] INFO  [LoggingServiceImp] - [security] AuthController - Account status checked for user: HuyS1
2025-10-31 19:42:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 19:42:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Found 1 PENDING users to check
2025-10-31 19:42:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - All PENDING users are within timeout threshold
2025-10-31 19:42:03 [http-nio-8083-exec-8] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/check-status
2025-10-31 19:42:03 [http-nio-8083-exec-8] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyS1
2025-10-31 19:42:03 [http-nio-8083-exec-8] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyS1
2025-10-31 19:42:03 [LoginEvent-2] ERROR [LoggingServiceImp] - [security] AsyncService - Failed to send login event for user: HuyS1: Cannot invoke "java.lang.Integer.toString()" because the return value of "com.model_shared.models.user.UserDto.getUserId()" is null
2025-10-31 19:42:03 [http-nio-8083-exec-8] INFO  [LoggingServiceImp] - [security] AuthController - checkAccountStatus API Calling...
2025-10-31 19:42:03 [http-nio-8083-exec-8] INFO  [LoggingServiceImp] - [security] AuthController - Account status checked for user: HuyS1
2025-10-31 19:44:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 19:44:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Found 1 PENDING users to check
2025-10-31 19:44:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - All PENDING users are within timeout threshold
2025-10-31 19:45:34 [background-preinit] DEBUG [logging] - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
2025-10-31 19:45:34 [main] INFO  [SecurityApplication] - Starting SecurityApplication using Java 17.0.16 with PID 4340 (D:\project IntelliJ Ultimate\modules-parent\security\target\classes started by tranhuy in D:\project IntelliJ Ultimate\modules-parent\security)
2025-10-31 19:45:34 [main] DEBUG [SecurityApplication] - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-10-31 19:45:34 [main] INFO  [SecurityApplication] - No active profile set, falling back to 1 default profile: "default"
2025-10-31 19:45:43 [main] DEBUG [InternalLoggerFactory] - Using SLF4J as the default logging framework
2025-10-31 19:45:46 [main] WARN  [deprecation] - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-31 19:45:58 [main] WARN  [JpaBaseConfiguration$JpaWebConfiguration] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-31 19:45:59 [main] DEBUG [JwtAuthFilter] - Filter 'jwtAuthFilter' configured for use
2025-10-31 19:46:00 [main] WARN  [InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer] - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-10-31 19:46:00 [main] DEBUG [Mappings] - 
	c.s.c.AuthController:
	{POST [/auth/register]}: register(Register,String)
	{GET [/auth/decode]}: decodeToken(String,String)
	{GET [/auth/check-status]}: checkAccountStatus(String,String)
	{POST [/auth/logout]}: logout(String,String)
	{POST [/auth/refresh]}: refreshToken(String,String)
	{GET [/auth/validate]}: validateToken(String,String)
	{POST [/auth/login]}: login(Login,String)
2025-10-31 19:46:00 [main] DEBUG [Mappings] - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-10-31 19:46:00 [main] DEBUG [Mappings] - 'beanNameHandlerMapping' {}
2025-10-31 19:46:00 [main] DEBUG [Mappings] - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]}
2025-10-31 19:46:04 [main] DEBUG [Loggers] - Using Slf4j logging framework
2025-10-31 19:46:07 [main] INFO  [SecurityApplication] - Started SecurityApplication in 33.27 seconds (process running for 34.111)
2025-10-31 19:46:35 [http-nio-8083-exec-2] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-10-31 19:46:35 [http-nio-8083-exec-2] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-10-31 19:46:36 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyS1
2025-10-31 19:46:36 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyS1
2025-10-31 19:46:36 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [1]
2025-10-31 19:46:36 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 3, key: [1]
2025-10-31 19:46:36 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthController - User registered successfully: HuyS1
2025-10-31 19:46:37 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user create profile with user id: 1
2025-10-31 19:46:55 [http-nio-8083-exec-3] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/check-status
2025-10-31 19:46:55 [http-nio-8083-exec-3] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyS1
2025-10-31 19:46:55 [http-nio-8083-exec-3] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyS1
2025-10-31 19:46:55 [LoginEvent-1] ERROR [LoggingServiceImp] - [security] AsyncService - Failed to send login event for user: HuyS1: Cannot invoke "java.lang.Integer.toString()" because the return value of "com.model_shared.models.user.UserDto.getUserId()" is null
2025-10-31 19:46:55 [http-nio-8083-exec-3] INFO  [LoggingServiceImp] - [security] AuthController - checkAccountStatus API Calling...
2025-10-31 19:46:55 [http-nio-8083-exec-3] INFO  [LoggingServiceImp] - [security] AuthController - Account status checked for user: HuyS1
2025-10-31 19:47:52 [http-nio-8083-exec-4] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-10-31 19:47:52 [http-nio-8083-exec-4] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-10-31 19:47:52 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyS2
2025-10-31 19:47:52 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyS2
2025-10-31 19:47:52 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [2]
2025-10-31 19:47:52 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 4, key: [2]
2025-10-31 19:47:52 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [security] AuthController - User registered successfully: HuyS2
2025-10-31 19:47:56 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user event DLQ and set status to FAILED for user id: 2
2025-10-31 19:48:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 19:48:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 19:48:29 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-10-31 19:48:29 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-10-31 19:48:29 [http-nio-8083-exec-7] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyS2
2025-10-31 19:48:29 [http-nio-8083-exec-7] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyS2
2025-10-31 19:48:29 [http-nio-8083-exec-7] INFO  [LoggingServiceImp] - [security] AuthService - Username exists with FAILED status, allowing re-registration by reusing userId: 2
2025-10-31 19:48:29 [http-nio-8083-exec-7] INFO  [LoggingServiceImp] - [security] AuthService - Reusing existing userId: 2 for re-registration
2025-10-31 19:48:29 [http-nio-8083-exec-7] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [2]
2025-10-31 19:48:29 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 5, key: [2]
2025-10-31 19:48:29 [http-nio-8083-exec-7] INFO  [LoggingServiceImp] - [security] AuthController - User registered successfully: HuyS2
2025-10-31 19:48:32 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user event DLQ and set status to FAILED for user id: 2
2025-10-31 19:48:45 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user create profile with user id: 2
2025-10-31 19:48:45 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user event DLQ and set status to FAILED for user id: 2
2025-10-31 19:49:16 [http-nio-8083-exec-8] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-10-31 19:49:16 [http-nio-8083-exec-8] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-10-31 19:49:16 [http-nio-8083-exec-8] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyS2
2025-10-31 19:49:16 [http-nio-8083-exec-8] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyS2
2025-10-31 19:49:16 [http-nio-8083-exec-8] INFO  [LoggingServiceImp] - [security] AuthService - Username exists with FAILED status, allowing re-registration by reusing userId: 2
2025-10-31 19:49:16 [http-nio-8083-exec-8] INFO  [LoggingServiceImp] - [security] AuthService - Reusing existing userId: 2 for re-registration
2025-10-31 19:49:16 [http-nio-8083-exec-8] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [2]
2025-10-31 19:49:16 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 6, key: [2]
2025-10-31 19:49:16 [http-nio-8083-exec-8] INFO  [LoggingServiceImp] - [security] AuthController - User registered successfully: HuyS2
2025-10-31 19:49:16 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user event DLQ and set status to FAILED for user id: 2
2025-10-31 19:57:49 [background-preinit] DEBUG [logging] - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
2025-10-31 19:57:49 [main] INFO  [SecurityApplication] - Starting SecurityApplication using Java 17.0.16 with PID 8252 (D:\project IntelliJ Ultimate\modules-parent\security\target\classes started by tranhuy in D:\project IntelliJ Ultimate\modules-parent\security)
2025-10-31 19:57:49 [main] DEBUG [SecurityApplication] - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-10-31 19:57:49 [main] INFO  [SecurityApplication] - No active profile set, falling back to 1 default profile: "default"
2025-10-31 19:57:59 [main] DEBUG [InternalLoggerFactory] - Using SLF4J as the default logging framework
2025-10-31 19:58:04 [main] WARN  [deprecation] - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-31 19:58:15 [main] WARN  [JpaBaseConfiguration$JpaWebConfiguration] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-31 19:58:15 [main] DEBUG [JwtAuthFilter] - Filter 'jwtAuthFilter' configured for use
2025-10-31 19:58:16 [main] WARN  [InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer] - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-10-31 19:58:16 [main] DEBUG [Mappings] - 
	c.s.c.AuthController:
	{POST [/auth/register]}: register(Register,String)
	{POST [/auth/login]}: login(Login,String)
	{POST [/auth/refresh]}: refreshToken(String,String)
	{GET [/auth/validate]}: validateToken(String,String)
	{GET [/auth/check-status]}: checkAccountStatus(String,String)
	{GET [/auth/decode]}: decodeToken(String,String)
	{POST [/auth/logout]}: logout(String,String)
2025-10-31 19:58:17 [main] DEBUG [Mappings] - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-10-31 19:58:17 [main] DEBUG [Mappings] - 'beanNameHandlerMapping' {}
2025-10-31 19:58:17 [main] DEBUG [Mappings] - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]}
2025-10-31 19:58:20 [main] DEBUG [Loggers] - Using Slf4j logging framework
2025-10-31 19:58:23 [main] INFO  [SecurityApplication] - Started SecurityApplication in 35.898 seconds (process running for 36.944)
2025-10-31 20:00:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:00:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:00:37 [http-nio-8083-exec-4] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-10-31 20:00:37 [http-nio-8083-exec-4] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-10-31 20:00:37 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyS1
2025-10-31 20:00:37 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyS1
2025-10-31 20:00:38 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [1]
2025-10-31 20:00:38 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 10, key: [1]
2025-10-31 20:00:38 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [security] AuthController - User registered successfully: HuyS1
2025-10-31 20:00:39 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user create profile with user id: 1
2025-10-31 20:02:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:02:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:02:40 [http-nio-8083-exec-1] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-10-31 20:02:40 [http-nio-8083-exec-1] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-10-31 20:02:40 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyS2
2025-10-31 20:02:40 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyS2
2025-10-31 20:02:40 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [2]
2025-10-31 20:02:40 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 11, key: [2]
2025-10-31 20:02:40 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [security] AuthController - User registered successfully: HuyS2
2025-10-31 20:02:43 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user event DLQ and set status to FAILED for user id: 2
2025-10-31 20:03:14 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user create profile with user id: 2
2025-10-31 20:04:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:04:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:06:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:06:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:08:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:08:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:10:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:10:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:12:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:12:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:14:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:14:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:16:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:16:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:18:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:18:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:20:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:20:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:22:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:22:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:24:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:24:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:26:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:26:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:27:46 [background-preinit] DEBUG [logging] - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
2025-10-31 20:27:46 [main] INFO  [SecurityApplication] - Starting SecurityApplication using Java 17.0.16 with PID 4744 (D:\project IntelliJ Ultimate\modules-parent\security\target\classes started by tranhuy in D:\project IntelliJ Ultimate\modules-parent\security)
2025-10-31 20:27:46 [main] DEBUG [SecurityApplication] - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-10-31 20:27:46 [main] INFO  [SecurityApplication] - No active profile set, falling back to 1 default profile: "default"
2025-10-31 20:27:57 [main] DEBUG [InternalLoggerFactory] - Using SLF4J as the default logging framework
2025-10-31 20:28:03 [main] WARN  [deprecation] - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-31 20:28:13 [main] WARN  [JpaBaseConfiguration$JpaWebConfiguration] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-31 20:28:14 [main] DEBUG [JwtAuthFilter] - Filter 'jwtAuthFilter' configured for use
2025-10-31 20:28:14 [main] WARN  [InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer] - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-10-31 20:28:15 [main] DEBUG [Mappings] - 
	c.s.c.AuthController:
	{POST [/auth/register]}: register(Register,String)
	{POST [/auth/logout]}: logout(String,String)
	{POST [/auth/login]}: login(Login,String)
	{POST [/auth/refresh]}: refreshToken(String,String)
	{GET [/auth/validate]}: validateToken(String,String)
	{GET [/auth/decode]}: decodeToken(String,String)
	{GET [/auth/check-status]}: checkAccountStatus(String,String)
2025-10-31 20:28:15 [main] DEBUG [Mappings] - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
	{ [/error]}: error(HttpServletRequest)
2025-10-31 20:28:15 [main] DEBUG [Mappings] - 'beanNameHandlerMapping' {}
2025-10-31 20:28:15 [main] DEBUG [Mappings] - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]}
2025-10-31 20:28:18 [main] DEBUG [Loggers] - Using Slf4j logging framework
2025-10-31 20:28:20 [main] INFO  [SecurityApplication] - Started SecurityApplication in 36.33 seconds (process running for 37.181)
2025-10-31 20:28:27 [http-nio-8083-exec-1] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-10-31 20:28:27 [http-nio-8083-exec-1] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-10-31 20:28:27 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyS3
2025-10-31 20:28:27 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyS3
2025-10-31 20:28:28 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [3]
2025-10-31 20:28:28 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 12, key: [3]
2025-10-31 20:28:28 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [security] AuthController - User registered successfully: HuyS3
2025-10-31 20:28:32 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user event DLQ and set status to FAILED for user id: 3
2025-10-31 20:28:56 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user create profile with user id: 3
2025-10-31 20:30:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:30:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:31:46 [http-nio-8083-exec-6] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-10-31 20:31:46 [http-nio-8083-exec-6] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-10-31 20:31:46 [http-nio-8083-exec-6] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyS4
2025-10-31 20:31:46 [http-nio-8083-exec-6] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyS4
2025-10-31 20:31:47 [http-nio-8083-exec-6] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [4]
2025-10-31 20:31:47 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 13, key: [4]
2025-10-31 20:31:47 [http-nio-8083-exec-6] INFO  [LoggingServiceImp] - [security] AuthController - User registered successfully: HuyS4
2025-10-31 20:31:50 [org.springframework.kafka.KafkaListenerEndpointContainer#1-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user event DLQ and set status to FAILED for user id: 4
2025-10-31 20:32:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:32:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:32:21 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-10-31 20:32:21 [http-nio-8083-exec-5] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-10-31 20:32:21 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyS4
2025-10-31 20:32:21 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyS4
2025-10-31 20:32:21 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthService - Username exists with FAILED status, allowing re-registration by reusing userId: 4
2025-10-31 20:32:21 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthService - Reusing existing userId: 4 for re-registration
2025-10-31 20:32:21 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [4]
2025-10-31 20:32:21 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 14, key: [4]
2025-10-31 20:32:21 [http-nio-8083-exec-5] INFO  [LoggingServiceImp] - [security] AuthController - User registered successfully: HuyS4
2025-10-31 20:32:21 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user create profile with user id: 4
2025-10-31 20:34:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:34:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:36:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:36:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:38:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:38:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:40:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:40:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:42:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:42:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:44:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:44:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:46:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:46:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:48:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:48:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:50:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:50:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:52:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:52:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:54:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:54:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:56:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:56:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 20:58:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 20:58:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:00:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:00:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:02:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:02:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:04:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:04:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:06:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:06:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:08:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:08:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:10:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:10:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:12:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:12:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:14:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:14:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:16:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:16:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:18:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:18:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:20:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:20:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:22:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:22:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:24:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:24:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:26:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:26:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:28:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:28:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:30:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:30:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:32:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:32:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:34:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:34:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:36:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:36:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:38:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:38:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:40:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:40:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:42:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:42:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:42:34 [http-nio-8083-exec-9] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/login
2025-10-31 21:42:34 [http-nio-8083-exec-9] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/login
2025-10-31 21:42:34 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthController - Login API calling... by user: HuyS1
2025-10-31 21:42:34 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthService - Login attempt for username: HuyS1
2025-10-31 21:42:34 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthController - User logged in successfully: HuyS1
2025-10-31 21:43:32 [http-nio-8083-exec-10] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/validate
2025-10-31 21:43:32 [http-nio-8083-exec-10] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyS1
2025-10-31 21:43:32 [http-nio-8083-exec-10] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyS1
2025-10-31 21:43:32 [LoginEvent-1] ERROR [LoggingServiceImp] - [security] AsyncService - Failed to send login event for user: HuyS1: Cannot invoke "java.lang.Integer.toString()" because the return value of "com.model_shared.models.user.UserDto.getUserId()" is null
2025-10-31 21:43:32 [http-nio-8083-exec-10] INFO  [LoggingServiceImp] - [security] AuthController - validate API Calling...
2025-10-31 21:43:32 [http-nio-8083-exec-10] INFO  [LoggingServiceImp] - [security] AuthController - Token validated successfully for user: HuyS1
2025-10-31 21:44:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:44:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:44:08 [http-nio-8083-exec-1] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/login
2025-10-31 21:44:08 [http-nio-8083-exec-1] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/login
2025-10-31 21:44:08 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [security] AuthController - Login API calling... by user: HuyS1
2025-10-31 21:44:08 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [security] AuthService - Login attempt for username: HuyS1
2025-10-31 21:44:08 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [security] AuthController - User logged in successfully: HuyS1
2025-10-31 21:44:16 [http-nio-8083-exec-4] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/validate
2025-10-31 21:44:16 [http-nio-8083-exec-4] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyS1
2025-10-31 21:44:16 [http-nio-8083-exec-4] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyS1
2025-10-31 21:44:16 [LoginEvent-2] ERROR [LoggingServiceImp] - [security] AsyncService - Failed to send login event for user: HuyS1: Cannot invoke "java.lang.Integer.toString()" because the return value of "com.model_shared.models.user.UserDto.getUserId()" is null
2025-10-31 21:44:16 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [security] AuthController - validate API Calling...
2025-10-31 21:44:16 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [security] AuthController - Token validated successfully for user: HuyS1
2025-10-31 21:46:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:46:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:46:07 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/validate
2025-10-31 21:46:07 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyS1
2025-10-31 21:46:07 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyS1
2025-10-31 21:46:07 [LoginEvent-1] ERROR [LoggingServiceImp] - [security] AsyncService - Failed to send login event for user: HuyS1: Cannot invoke "java.lang.Integer.toString()" because the return value of "com.model_shared.models.user.UserDto.getUserId()" is null
2025-10-31 21:46:07 [http-nio-8083-exec-7] INFO  [LoggingServiceImp] - [security] AuthController - validate API Calling...
2025-10-31 21:46:07 [http-nio-8083-exec-7] INFO  [LoggingServiceImp] - [security] AuthController - Token validated successfully for user: HuyS1
2025-10-31 21:46:07 [http-nio-8083-exec-8] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/internal/users/batch
2025-10-31 21:46:07 [http-nio-8083-exec-8] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - No Authorization header or not Bearer token for: /auth/internal/users/batch
2025-10-31 21:46:35 [http-nio-8083-exec-9] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/validate
2025-10-31 21:46:35 [http-nio-8083-exec-9] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyS1
2025-10-31 21:46:35 [http-nio-8083-exec-9] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyS1
2025-10-31 21:46:35 [LoginEvent-2] ERROR [LoggingServiceImp] - [security] AsyncService - Failed to send login event for user: HuyS1: Cannot invoke "java.lang.Integer.toString()" because the return value of "com.model_shared.models.user.UserDto.getUserId()" is null
2025-10-31 21:46:35 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthController - validate API Calling...
2025-10-31 21:46:35 [http-nio-8083-exec-9] INFO  [LoggingServiceImp] - [security] AuthController - Token validated successfully for user: HuyS1
2025-10-31 21:46:35 [http-nio-8083-exec-10] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/internal/users/batch
2025-10-31 21:46:35 [http-nio-8083-exec-10] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - No Authorization header or not Bearer token for: /auth/internal/users/batch
2025-10-31 21:46:47 [http-nio-8083-exec-2] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/validate
2025-10-31 21:46:47 [http-nio-8083-exec-2] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyS1
2025-10-31 21:46:47 [http-nio-8083-exec-2] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyS1
2025-10-31 21:46:47 [LoginEvent-1] ERROR [LoggingServiceImp] - [security] AsyncService - Failed to send login event for user: HuyS1: Cannot invoke "java.lang.Integer.toString()" because the return value of "com.model_shared.models.user.UserDto.getUserId()" is null
2025-10-31 21:46:47 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthController - validate API Calling...
2025-10-31 21:46:47 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthController - Token validated successfully for user: HuyS1
2025-10-31 21:46:47 [http-nio-8083-exec-3] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/internal/users/batch
2025-10-31 21:46:47 [http-nio-8083-exec-3] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - No Authorization header or not Bearer token for: /auth/internal/users/batch
2025-10-31 21:48:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 21:48:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 21:49:04 [http-nio-8083-exec-1] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/validate
2025-10-31 21:49:04 [http-nio-8083-exec-1] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyS1
2025-10-31 21:49:04 [http-nio-8083-exec-1] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyS1
2025-10-31 21:49:04 [LoginEvent-2] ERROR [LoggingServiceImp] - [security] AsyncService - Failed to send login event for user: HuyS1: Cannot invoke "java.lang.Integer.toString()" because the return value of "com.model_shared.models.user.UserDto.getUserId()" is null
2025-10-31 21:49:04 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [security] AuthController - validate API Calling...
2025-10-31 21:49:04 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [security] AuthController - Token validated successfully for user: HuyS1
2025-10-31 21:49:04 [http-nio-8083-exec-4] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/internal/users/batch
2025-10-31 21:49:04 [http-nio-8083-exec-4] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - No Authorization header or not Bearer token for: /auth/internal/users/batch
2025-10-31 22:08:05 [background-preinit] DEBUG [logging] - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
2025-10-31 22:08:05 [main] INFO  [SecurityApplication] - Starting SecurityApplication using Java 17.0.16 with PID 15912 (D:\project IntelliJ Ultimate\modules-parent\security\target\classes started by tranhuy in D:\project IntelliJ Ultimate\modules-parent\security)
2025-10-31 22:08:05 [main] DEBUG [SecurityApplication] - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-10-31 22:08:05 [main] INFO  [SecurityApplication] - No active profile set, falling back to 1 default profile: "default"
2025-10-31 22:08:16 [main] DEBUG [InternalLoggerFactory] - Using SLF4J as the default logging framework
2025-10-31 22:08:22 [main] WARN  [deprecation] - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-31 22:08:26 [main] ERROR [TomcatStarter] - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'jwtAuthFilter': Unsatisfied dependency expressed through field 'userDetailsService': Error creating bean with name 'customUserDetailsService': Unsatisfied dependency expressed through field 'userRepo': Error creating bean with name 'userRepo' defined in com.security.repositories.UserRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.security.repositories.UserRepo.findByUserName(java.lang.String); Reason: Failed to create query for method public abstract java.util.Optional com.security.repositories.UserRepo.findByUserName(java.lang.String); No property 'userName' found for type 'UserEntity'; Did you mean 'username'
2025-10-31 22:08:26 [main] WARN  [WebappClassLoaderBase] - The web application [ROOT] appears to have started a thread named [HikariPool-1:housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.16/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.16/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.16/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1679)
 java.base@17.0.16/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base@17.0.16/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@17.0.16/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)
 java.base@17.0.16/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.16/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.16/java.lang.Thread.run(Thread.java:840)
2025-10-31 22:08:26 [main] WARN  [WebappClassLoaderBase] - The web application [ROOT] appears to have started a thread named [HikariPool-1:connection-adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@17.0.16/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@17.0.16/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)
 java.base@17.0.16/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1679)
 java.base@17.0.16/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base@17.0.16/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1061)
 java.base@17.0.16/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)
 java.base@17.0.16/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
 java.base@17.0.16/java.lang.Thread.run(Thread.java:840)
2025-10-31 22:08:26 [main] WARN  [AnnotationConfigServletWebServerApplicationContext] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server
2025-10-31 22:08:26 [main] ERROR [SpringApplication] - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:170)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at com.security.SecurityApplication.main(SecurityApplication.java:16)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:147)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jwtAuthFilter': Unsatisfied dependency expressed through field 'userDetailsService': Error creating bean with name 'customUserDetailsService': Unsatisfied dependency expressed through field 'userRepo': Error creating bean with name 'userRepo' defined in com.security.repositories.UserRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.security.repositories.UserRepo.findByUserName(java.lang.String); Reason: Failed to create query for method public abstract java.util.Optional com.security.repositories.UserRepo.findByUserName(java.lang.String); No property 'userName' found for type 'UserEntity'; Did you mean 'username'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:230)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:184)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAsRegistrationBean(ServletContextInitializerBeans.java:179)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addAdaptableBeans(ServletContextInitializerBeans.java:164)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:96)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:271)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:245)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:52)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4464)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:412)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:438)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customUserDetailsService': Unsatisfied dependency expressed through field 'userRepo': Error creating bean with name 'userRepo' defined in com.security.repositories.UserRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.security.repositories.UserRepo.findByUserName(java.lang.String); Reason: Failed to create query for method public abstract java.util.Optional com.security.repositories.UserRepo.findByUserName(java.lang.String); No property 'userName' found for type 'UserEntity'; Did you mean 'username'
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:788)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1459)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:606)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1740)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 55 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepo' defined in com.security.repositories.UserRepo defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.Optional com.security.repositories.UserRepo.findByUserName(java.lang.String); Reason: Failed to create query for method public abstract java.util.Optional com.security.repositories.UserRepo.findByUserName(java.lang.String); No property 'userName' found for type 'UserEntity'; Did you mean 'username'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1682)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785)
	... 69 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.Optional com.security.repositories.UserRepo.findByUserName(java.lang.String); Reason: Failed to create query for method public abstract java.util.Optional com.security.repositories.UserRepo.findByUserName(java.lang.String); No property 'userName' found for type 'UserEntity'; Did you mean 'username'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:434)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 78 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.Optional com.security.repositories.UserRepo.findByUserName(java.lang.String); No property 'userName' found for type 'UserEntity'; Did you mean 'username'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:260)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 90 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'userName' found for type 'UserEntity'; Did you mean 'username'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101)
	... 94 common frames omitted
2025-10-31 22:10:35 [background-preinit] DEBUG [logging] - Logging Provider: org.jboss.logging.Slf4jLoggerProvider found via system property
2025-10-31 22:10:35 [main] INFO  [SecurityApplication] - Starting SecurityApplication using Java 17.0.16 with PID 10852 (D:\project IntelliJ Ultimate\modules-parent\security\target\classes started by tranhuy in D:\project IntelliJ Ultimate\modules-parent\security)
2025-10-31 22:10:35 [main] DEBUG [SecurityApplication] - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-10-31 22:10:35 [main] INFO  [SecurityApplication] - No active profile set, falling back to 1 default profile: "default"
2025-10-31 22:10:45 [main] DEBUG [InternalLoggerFactory] - Using SLF4J as the default logging framework
2025-10-31 22:10:49 [main] WARN  [deprecation] - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-10-31 22:10:56 [main] WARN  [JpaBaseConfiguration$JpaWebConfiguration] - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-10-31 22:10:56 [main] DEBUG [JwtAuthFilter] - Filter 'jwtAuthFilter' configured for use
2025-10-31 22:10:57 [main] WARN  [InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer] - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-10-31 22:10:57 [main] DEBUG [Mappings] - 
	c.s.c.AuthController:
	{POST [/auth/register]}: register(Register,String)
	{POST [/auth/refresh]}: refreshToken(String,String)
	{POST [/auth/login]}: login(Login,String)
	{POST [/auth/logout]}: logout(String,String)
	{GET [/auth/validate]}: validateToken(String,String)
	{GET [/auth/check-status]}: checkAccountStatus(String,String)
	{GET [/auth/decode]}: decodeToken(String,String)
	{POST [/auth/internal/users/batch]}: getUsersByIds(Map)
2025-10-31 22:10:57 [main] DEBUG [Mappings] - 
	o.s.b.a.w.s.e.BasicErrorController:
	{ [/error]}: error(HttpServletRequest)
	{ [/error], produces [text/html]}: errorHtml(HttpServletRequest,HttpServletResponse)
2025-10-31 22:10:57 [main] DEBUG [Mappings] - 'beanNameHandlerMapping' {}
2025-10-31 22:10:57 [main] DEBUG [Mappings] - 'resourceHandlerMapping' {/webjars/**=ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]], /**=ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]}
2025-10-31 22:10:59 [main] DEBUG [Loggers] - Using Slf4j logging framework
2025-10-31 22:11:00 [main] INFO  [SecurityApplication] - Started SecurityApplication in 26.814 seconds (process running for 28.068)
2025-10-31 22:11:05 [http-nio-8083-exec-1] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/validate
2025-10-31 22:11:05 [http-nio-8083-exec-1] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyS1
2025-10-31 22:11:05 [http-nio-8083-exec-1] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyS1
2025-10-31 22:11:06 [LoginEvent-1] ERROR [LoggingServiceImp] - [security] AsyncService - Failed to send login event for user: HuyS1: Cannot invoke "java.lang.Integer.toString()" because the return value of "com.model_shared.models.user.UserDto.getUserId()" is null
2025-10-31 22:11:06 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [security] AuthController - validate API Calling...
2025-10-31 22:11:06 [http-nio-8083-exec-1] INFO  [LoggingServiceImp] - [security] AuthController - Token validated successfully for user: HuyS1
2025-10-31 22:11:30 [http-nio-8083-exec-4] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/register
2025-10-31 22:11:30 [http-nio-8083-exec-4] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/register
2025-10-31 22:11:30 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [security] AuthController - Register API Calling... by user: HuyS5
2025-10-31 22:11:30 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [security] AuthService - Register attempt for username: HuyS5
2025-10-31 22:11:30 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - userEvent sent to topic: user-events - with entity id: [5]
2025-10-31 22:11:30 [kafka-producer-network-thread | security-producer-1] INFO  [LoggingServiceImp] - [kafka_shared] KafkaProducerService - Message sent successfully to topic: user-events, partition: 0, offset: 15, key: [5]
2025-10-31 22:11:30 [http-nio-8083-exec-4] INFO  [LoggingServiceImp] - [security] AuthController - User registered successfully: HuyS5
2025-10-31 22:11:31 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] INFO  [LoggingServiceImp] - [security] ConsumerService - Successfully processed user create profile with user id: 5
2025-10-31 22:11:43 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/validate
2025-10-31 22:11:43 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Extracted username from JWT: HuyS1
2025-10-31 22:11:43 [http-nio-8083-exec-7] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Successfully authenticated user: HuyS1
2025-10-31 22:11:43 [LoginEvent-2] ERROR [LoggingServiceImp] - [security] AsyncService - Failed to send login event for user: HuyS1: Cannot invoke "java.lang.Integer.toString()" because the return value of "com.model_shared.models.user.UserDto.getUserId()" is null
2025-10-31 22:11:43 [http-nio-8083-exec-7] INFO  [LoggingServiceImp] - [security] AuthController - validate API Calling...
2025-10-31 22:11:43 [http-nio-8083-exec-7] INFO  [LoggingServiceImp] - [security] AuthController - Token validated successfully for user: HuyS1
2025-10-31 22:11:43 [http-nio-8083-exec-2] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Processing request: /auth/internal/users/batch
2025-10-31 22:11:43 [http-nio-8083-exec-2] DEBUG [LoggingServiceImp] - [security] JwtAuthFilter - Skipping JWT validation for public endpoint: /auth/internal/users/batch
2025-10-31 22:11:43 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthController - Batch getting users, count: 5
2025-10-31 22:11:43 [http-nio-8083-exec-2] INFO  [LoggingServiceImp] - [security] AuthController - Successfully retrieved 5 users
2025-10-31 22:12:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 22:12:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 22:14:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 22:14:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
2025-10-31 22:16:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - Starting scheduled check for PENDING user timeout...
2025-10-31 22:16:00 [scheduling-1] INFO  [LoggingServiceImp] - [security] PendingUserTimeoutService - No PENDING users found
